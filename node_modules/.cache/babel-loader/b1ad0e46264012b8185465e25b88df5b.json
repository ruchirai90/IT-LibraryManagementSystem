{"ast":null,"code":"import _objectSpread from \"/Users/rrai1/workspace/Practice/library-management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nconst intialState = {\n  //books list which is rendered intially\n  books: [],\n  actualList: [],\n  //index of what is selected from table\n  selectedIndex: -1,\n  //Selected record details\n  selectedRecord: {\n    index: -1,\n    name: \"\",\n    description: \"\",\n    category: \"\",\n    author: \"\",\n    price: \"\"\n  },\n  //toggle modal\n  showModal: false,\n  //btnAction edit or add is pressed\n  btnAction: '',\n  //enable/disable save\n  isSaveDisabled: true\n};\n\nconst addBookReducer = (state = intialState, action) => {\n  if (action.type === 'ADD_BOOK') {\n    return _objectSpread({}, state, {\n      books: state.actualList.concat(action.value),\n      actualList: state.actualList.concat(action.value)\n    });\n  } else if (action.type === 'SEARCH_BOOK') {\n    if (action.value) {\n      let filteredArray = state.actualList.filter(item => {\n        return item.name.toLowerCase().includes(action.value.toLowerCase()) || item.description.toLowerCase().includes(action.value.toLowerCase()) || item.category.toLowerCase().includes(action.value.toLowerCase()) || item.author.toLowerCase().includes(action.value.toLowerCase()) || item.price.toLowerCase().includes(action.value.toLowerCase());\n      });\n      return _objectSpread({}, state, {\n        books: [...filteredArray]\n      });\n    } else {\n      return _objectSpread({}, state, {\n        books: [...state.actualList]\n      });\n    }\n  } else if (action.type === 'SELECT_ITEM') {\n    return _objectSpread({}, state, {\n      selectedIndex: action.value\n    });\n  } else if (action.type === 'ENABLE_SAVE_BTN_BTN') {\n    return _objectSpread({}, state, {\n      isSaveDisabled: !action.value\n    });\n  } else if (action.type === 'SET_BOOK_LIST') {\n    return _objectSpread({}, state, {\n      books: action.value,\n      actualList: action.value\n    });\n  } else if (action.type === 'UPDATE_BOOK') {\n    const copyOfArray = [...state.actualList];\n    copyOfArray[state.selectedIndex] = action.value;\n    return _objectSpread({}, state, {\n      books: [...copyOfArray],\n      actualList: copyOfArray\n    });\n  } else if (action.type === 'CHANGE_RECORD') {\n    let copyOfSelectedRecord = _objectSpread({}, state.selectedRecord);\n\n    copyOfSelectedRecord[action.name] = action.value;\n    return _objectSpread({}, state, {\n      selectedRecord: _objectSpread({}, copyOfSelectedRecord)\n    });\n  } else if (action.type === 'TOGGLE_MODAL') {\n    if (action.btnAction === 'add') {\n      const obj = {\n        name: \"\",\n        description: \"\",\n        category: \"\",\n        author: \"\",\n        price: \"\"\n      };\n      state = _objectSpread({}, state, {\n        selectedRecord: _objectSpread({}, obj),\n        isSaveDisabled: true\n      });\n    } else if (action.btnAction === 'edit') {\n      const obj = _objectSpread({}, state.books[state.selectedIndex]);\n\n      state = _objectSpread({}, state, {\n        selectedRecord: _objectSpread({}, obj),\n        isSaveDisabled: false\n      });\n    }\n\n    return _objectSpread({}, state, {\n      showModal: action.showModal,\n      btnAction: action.btnAction\n    });\n  } else if (action.type === 'CLEAR_RECORD') {\n    const obj = {\n      name: \"\",\n      description: \"\",\n      category: \"\",\n      author: \"\",\n      price: \"\"\n    };\n    state = _objectSpread({}, state, {\n      selectedRecord: _objectSpread({}, obj),\n      isSaveDisabled: true\n    });\n  }\n\n  return state;\n};\n\nexport default addBookReducer;","map":{"version":3,"sources":["/Users/rrai1/workspace/Practice/library-management/src/client/reducers/AddBookReducer.js"],"names":["intialState","books","actualList","selectedIndex","selectedRecord","index","name","description","category","author","price","showModal","btnAction","isSaveDisabled","addBookReducer","state","action","type","concat","value","filteredArray","filter","item","toLowerCase","includes","copyOfArray","copyOfSelectedRecord","obj"],"mappings":";AAAA,MAAMA,WAAW,GAAG;AAChB;AACAC,EAAAA,KAAK,EAAE,EAFS;AAGhBC,EAAAA,UAAU,EAAE,EAHI;AAKhB;AACAC,EAAAA,aAAa,EAAE,CAAC,CANA;AAQhB;AACAC,EAAAA,cAAc,EAAE;AACZC,IAAAA,KAAK,EAAE,CAAC,CADI;AAEZC,IAAAA,IAAI,EAAE,EAFM;AAGZC,IAAAA,WAAW,EAAE,EAHD;AAIZC,IAAAA,QAAQ,EAAE,EAJE;AAKZC,IAAAA,MAAM,EAAE,EALI;AAMZC,IAAAA,KAAK,EAAE;AANK,GATA;AAiBhB;AACAC,EAAAA,SAAS,EAAE,KAlBK;AAoBhB;AACAC,EAAAA,SAAS,EAAE,EArBK;AAuBhB;AACAC,EAAAA,cAAc,EAAE;AAxBA,CAApB;;AA2BA,MAAMC,cAAc,GAAG,CAACC,KAAK,GAAGf,WAAT,EAAsBgB,MAAtB,KAAiC;AACpD,MAAIA,MAAM,CAACC,IAAP,KAAgB,UAApB,EAAgC;AAC5B,6BACOF,KADP;AACcd,MAAAA,KAAK,EAAEc,KAAK,CAACb,UAAN,CAAiBgB,MAAjB,CAAwBF,MAAM,CAACG,KAA/B,CADrB;AAC4DjB,MAAAA,UAAU,EAAEa,KAAK,CAACb,UAAN,CAAiBgB,MAAjB,CAAwBF,MAAM,CAACG,KAA/B;AADxE;AAGH,GAJD,MAKK,IAAIH,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AAEpC,QAAID,MAAM,CAACG,KAAX,EAAkB;AACd,UAAIC,aAAa,GAAGL,KAAK,CAACb,UAAN,CAAiBmB,MAAjB,CAAyBC,IAAD,IAAU;AAClD,eAAQA,IAAI,CAAChB,IAAL,CAAUiB,WAAV,GAAwBC,QAAxB,CAAiCR,MAAM,CAACG,KAAP,CAAaI,WAAb,EAAjC,KACJD,IAAI,CAACf,WAAL,CAAiBgB,WAAjB,GAA+BC,QAA/B,CAAwCR,MAAM,CAACG,KAAP,CAAaI,WAAb,EAAxC,CADI,IAEJD,IAAI,CAACd,QAAL,CAAce,WAAd,GAA4BC,QAA5B,CAAqCR,MAAM,CAACG,KAAP,CAAaI,WAAb,EAArC,CAFI,IAGJD,IAAI,CAACb,MAAL,CAAYc,WAAZ,GAA0BC,QAA1B,CAAmCR,MAAM,CAACG,KAAP,CAAaI,WAAb,EAAnC,CAHI,IAIJD,IAAI,CAACZ,KAAL,CAAWa,WAAX,GAAyBC,QAAzB,CAAkCR,MAAM,CAACG,KAAP,CAAaI,WAAb,EAAlC,CAJJ;AAMH,OAPmB,CAApB;AAQA,+BACOR,KADP;AACcd,QAAAA,KAAK,EAAE,CAAC,GAAGmB,aAAJ;AADrB;AAGH,KAZD,MAaK;AACD,+BACOL,KADP;AACcd,QAAAA,KAAK,EAAE,CAAC,GAAGc,KAAK,CAACb,UAAV;AADrB;AAGH;AACJ,GApBI,MAqBA,IAAIc,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACpC,6BACOF,KADP;AACcZ,MAAAA,aAAa,EAAEa,MAAM,CAACG;AADpC;AAGH,GAJI,MAMA,IAAIH,MAAM,CAACC,IAAP,KAAgB,qBAApB,EAA2C;AAC5C,6BACOF,KADP;AACcF,MAAAA,cAAc,EAAE,CAACG,MAAM,CAACG;AADtC;AAGH,GAJI,MAKA,IAAIH,MAAM,CAACC,IAAP,KAAgB,eAApB,EAAqC;AACtC,6BACOF,KADP;AACcd,MAAAA,KAAK,EAAEe,MAAM,CAACG,KAD5B;AACmCjB,MAAAA,UAAU,EAAEc,MAAM,CAACG;AADtD;AAGH,GAJI,MAMA,IAAIH,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACpC,UAAMQ,WAAW,GAAG,CAAC,GAAGV,KAAK,CAACb,UAAV,CAApB;AACAuB,IAAAA,WAAW,CAACV,KAAK,CAACZ,aAAP,CAAX,GAAmCa,MAAM,CAACG,KAA1C;AAEA,6BACOJ,KADP;AACcd,MAAAA,KAAK,EAAE,CAAC,GAAGwB,WAAJ,CADrB;AACuCvB,MAAAA,UAAU,EAAEuB;AADnD;AAGH,GAPI,MASA,IAAIT,MAAM,CAACC,IAAP,KAAgB,eAApB,EAAqC;AACtC,QAAIS,oBAAoB,qBAAQX,KAAK,CAACX,cAAd,CAAxB;;AACAsB,IAAAA,oBAAoB,CAACV,MAAM,CAACV,IAAR,CAApB,GAAoCU,MAAM,CAACG,KAA3C;AAEA,6BACOJ,KADP;AACcX,MAAAA,cAAc,oBAAOsB,oBAAP;AAD5B;AAGH,GAPI,MASA,IAAIV,MAAM,CAACC,IAAP,KAAgB,cAApB,EAAoC;AACrC,QAAID,MAAM,CAACJ,SAAP,KAAqB,KAAzB,EAAgC;AAC5B,YAAMe,GAAG,GAAG;AACRrB,QAAAA,IAAI,EAAE,EADE;AAERC,QAAAA,WAAW,EAAE,EAFL;AAGRC,QAAAA,QAAQ,EAAE,EAHF;AAIRC,QAAAA,MAAM,EAAE,EAJA;AAKRC,QAAAA,KAAK,EAAE;AALC,OAAZ;AAQAK,MAAAA,KAAK,qBAAQA,KAAR;AAAeX,QAAAA,cAAc,oBAAOuB,GAAP,CAA7B;AAA2Cd,QAAAA,cAAc,EAAE;AAA3D,QAAL;AACH,KAVD,MAWK,IAAIG,MAAM,CAACJ,SAAP,KAAqB,MAAzB,EAAiC;AAClC,YAAMe,GAAG,qBAAQZ,KAAK,CAACd,KAAN,CAAYc,KAAK,CAACZ,aAAlB,CAAR,CAAT;;AACAY,MAAAA,KAAK,qBAAQA,KAAR;AAAeX,QAAAA,cAAc,oBAAOuB,GAAP,CAA7B;AAA2Cd,QAAAA,cAAc,EAAE;AAA3D,QAAL;AACH;;AAED,6BACOE,KADP;AACcJ,MAAAA,SAAS,EAAEK,MAAM,CAACL,SADhC;AAC2CC,MAAAA,SAAS,EAAEI,MAAM,CAACJ;AAD7D;AAIH,GArBI,MAsBA,IAAII,MAAM,CAACC,IAAP,KAAgB,cAApB,EAAoC;AACrC,UAAMU,GAAG,GAAG;AACRrB,MAAAA,IAAI,EAAE,EADE;AAERC,MAAAA,WAAW,EAAE,EAFL;AAGRC,MAAAA,QAAQ,EAAE,EAHF;AAIRC,MAAAA,MAAM,EAAE,EAJA;AAKRC,MAAAA,KAAK,EAAE;AALC,KAAZ;AAQAK,IAAAA,KAAK,qBAAQA,KAAR;AAAeX,MAAAA,cAAc,oBAAOuB,GAAP,CAA7B;AAA2Cd,MAAAA,cAAc,EAAE;AAA3D,MAAL;AACH;;AAGD,SAAOE,KAAP;AACH,CAlGD;;AAmGA,eAAeD,cAAf","sourcesContent":["const intialState = {\n    //books list which is rendered intially\n    books: [],\n    actualList: [],\n\n    //index of what is selected from table\n    selectedIndex: -1,\n\n    //Selected record details\n    selectedRecord: {\n        index: -1,\n        name: \"\",\n        description: \"\",\n        category: \"\",\n        author: \"\",\n        price: \"\"\n    },\n    //toggle modal\n    showModal: false,\n\n    //btnAction edit or add is pressed\n    btnAction: '',\n\n    //enable/disable save\n    isSaveDisabled: true\n}\n\nconst addBookReducer = (state = intialState, action) => {\n    if (action.type === 'ADD_BOOK') {\n        return {\n            ...state, books: state.actualList.concat(action.value), actualList: state.actualList.concat(action.value)\n        }\n    }\n    else if (action.type === 'SEARCH_BOOK') {\n\n        if (action.value) {\n            let filteredArray = state.actualList.filter((item) => {\n                return (item.name.toLowerCase().includes(action.value.toLowerCase()) ||\n                    item.description.toLowerCase().includes(action.value.toLowerCase()) ||\n                    item.category.toLowerCase().includes(action.value.toLowerCase()) ||\n                    item.author.toLowerCase().includes(action.value.toLowerCase()) ||\n                    item.price.toLowerCase().includes(action.value.toLowerCase())\n                )\n            });\n            return {\n                ...state, books: [...filteredArray]\n            }\n        }\n        else {\n            return {\n                ...state, books: [...state.actualList]\n            }\n        }\n    }\n    else if (action.type === 'SELECT_ITEM') {\n        return {\n            ...state, selectedIndex: action.value\n        }\n    }\n\n    else if (action.type === 'ENABLE_SAVE_BTN_BTN') {\n        return {\n            ...state, isSaveDisabled: !action.value\n        }\n    }\n    else if (action.type === 'SET_BOOK_LIST') {\n        return {\n            ...state, books: action.value, actualList: action.value\n        }\n    }\n\n    else if (action.type === 'UPDATE_BOOK') {\n        const copyOfArray = [...state.actualList];\n        copyOfArray[state.selectedIndex] = action.value;\n\n        return {\n            ...state, books: [...copyOfArray], actualList: copyOfArray\n        }\n    }\n\n    else if (action.type === 'CHANGE_RECORD') {\n        let copyOfSelectedRecord = { ...state.selectedRecord };\n        copyOfSelectedRecord[action.name] = action.value\n\n        return {\n            ...state, selectedRecord: { ...copyOfSelectedRecord }\n        }\n    }\n\n    else if (action.type === 'TOGGLE_MODAL') {\n        if (action.btnAction === 'add') {\n            const obj = {\n                name: \"\",\n                description: \"\",\n                category: \"\",\n                author: \"\",\n                price: \"\"\n\n            }\n            state = { ...state, selectedRecord: { ...obj }, isSaveDisabled: true };\n        }\n        else if (action.btnAction === 'edit') {\n            const obj = { ...state.books[state.selectedIndex] };\n            state = { ...state, selectedRecord: { ...obj }, isSaveDisabled: false };\n        }\n\n        return {\n            ...state, showModal: action.showModal, btnAction: action.btnAction\n\n        }\n    }\n    else if (action.type === 'CLEAR_RECORD') {\n        const obj = {\n            name: \"\",\n            description: \"\",\n            category: \"\",\n            author: \"\",\n            price: \"\"\n\n        }\n        state = { ...state, selectedRecord: { ...obj }, isSaveDisabled: true };\n    }\n\n\n    return state;\n}\nexport default addBookReducer;"]},"metadata":{},"sourceType":"module"}